id: list-blocks
type: PageHeaderMenu

requests:
  - id: save_data
    type: GoogleSheetAppendOne
    connectionId: google_sheet
    properties:
      row:
        # Get all the values to save from state
        ticket_title:
          _state: ticket_title
        ticket_type:
          _state: ticket_type
        ticket_description:
          _state: ticket_description
        confirm_restart:
          _state: confirm_restart
        # Add the date the row was created using the `_date.now` operator.
        created_date:
          _date: now

properties:
  title: List Blocks # The title in the browser tab.

  logo:
        src: https://i.postimg.cc/Qtn1P5zW/simbiose-Logo.png
        style:
          width: 10px;
          margin: 10px 15px;
          height: 100px; 
layout:
  contentJustify: center # Center the contents of the page.
blocks:
  - id: content_card
    type: Card
    layout:
      size: 800 # Set the size of the card so it does not fill the full screen.
      contentGutter: 16 # Make a 16px gap between all blocks in this card.
    blocks:
        - id: todo_input
          type: TextInput
          layout:
            grow: 1
          properties:
            label:
              disabled: true
            placeholder: Write something todo...
        - id: add_item
          type: Button
          layout:
            shrink: 1
          properties:
            title: Add item
            icon: PlusOutlined
          events:
            onClick:
              - id: add
                type: SetState
                params:
                  todos:
                    _array.concat:
                      - - _state: todo_input
                      - _state: todos
                  todo_input: null
        - id: todos
          type: List
          layout:
            contentGutter: 16
          blocks:
            - id: todos.$
              type: TitleInput
              layout:
                grow: 1
              properties:
                level: 4
            - id: remove_item
              type: Icon
              layout:
                shrink: 1
              properties:
                name: MinusCircleOutlined
                size: 18
              events:
                onClick:
                  - id: remove
                    type: CallMethod
                    messages:
                      loading: sd f sdfgsdfg
                      success: hi sdfg sdfgs g
                    params:
                      blockId: todos
                      method: removeItem
                      args:
                        - _index: 0